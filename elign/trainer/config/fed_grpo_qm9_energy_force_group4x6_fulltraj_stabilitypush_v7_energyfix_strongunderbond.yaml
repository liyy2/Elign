defaults:
  - ddpo_qm9_energy_force_group4x6_fulltraj_stabilitypush_v6_energyfix
  - _self_

# v7: keep the corrected per-atom energy transform (v6) and push harder on the dominant
# QM9 instability mode: under-bonded C/N (C=3, N=2) under `check_stability`.

train:
  # Slightly stronger KL to avoid drifting into large-molecule regressions.
  kl_penalty_weight: 0.12

reward:
  # Reduce energy influence; keep it as a weak tie-breaker among already-stable molecules.
  energy_adv_weight: 0.01

  # Stronger discrete + soft under-bond penalties (targets C=3 / N=2 failures).
  valence_underbond_weight: 8.0
  valence_underbond_soft_weight: 12.0

  # Stronger graded pressure when only a few atoms are wrong.
  atom_stability_weight: 150.0

